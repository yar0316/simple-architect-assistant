# Streamlit マルチページアプリ作成ガイド

Streamlitでサイドバーにナビゲーションを持つマルチページアプリを作成する方法について解説します。

## 基本的なファイル構造

Streamlitのマルチページ機能は、規約に基づいたシンプルなディレクトリ構造で実現できます。

1.  **メインスクリプト**: アプリケーションのエントリーポイントとなるメインのPythonファイル（例: `app.py`）をプロジェクトのルートに配置します。
2.  **`pages` ディレクトリ**: メインスクリプトと同じ階層に `pages` という名前のディレクトリを作成します。
3.  **各ページのスクリプト**: `pages` ディレクトリの中に、追加したい各ページのPythonファイルを配置します。

```
your-project/
├── app.py          # メインアプリ
└── pages/
    ├── 1_page_one.py # 1番目に表示されるページ
    └── 2_page_two.py # 2番目に表示されるページ
```

## ページの作成と設定

### ファイルの命名規則

`pages`ディレクトリ内のPythonファイルは、自動的にサイドバーのナビゲーションリンクとして追加されます。表示されるページ名と順序はファイル名によって制御されます。

*   **順序**: ファイル名の先頭に `数字_` を付けることで、サイドバーでの表示順序を指定できます。（例: `1_...`、`2_...`）
*   **ページ名**: ファイル名から拡張子（`.py`）と順序指定のプレフィックス（`数字_`）を取り除き、アンダースコアをスペースに置き換えたものが、デフォルトのページ名として表示されます。（例: `1_data_visualization.py` は "Data visualization" と表示されます）

### ページ内での実装

各ページのファイルは、独立したStreamlitスクリプトとして記述します。`st.title()` や `st.write()` など、通常のStreamlitコマンドを使用できます。

**例: `pages/1_data_visualization.py`**

```python
import streamlit as st
import pandas as pd
import numpy as np

st.title("データ可視化ページ")

st.write("これはサンプルデータです。")

df = pd.DataFrame(
    np.random.randn(20, 3),
    columns=['a', 'b', 'c'])

st.line_chart(df)
```

## メインアプリ (`app.py`)

メインアプリのファイルでは、アプリケーション全体の紹介や、トップページとして機能するコンテンツを配置します。

```python
import streamlit as st

st.set_page_config(
    page_title="メインページ",
    page_icon="👋",
)

st.title("メインページ")
st.sidebar.success("上のメニューからページを選択してください。")

st.write("これはStreamlitマルチページアプリのサンプルです。")
```

## まとめ

この規約に従うだけで、Streamlitは自動的にサイドバーにナビゲーションを生成し、ユーザーが各ページ間を移動できるマルチページアプリケーションを構築します。複雑なルーティング処理を自分で実装する必要はありません。
